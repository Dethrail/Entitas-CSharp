//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Entitas.CodeGeneration.Plugins.ComponentEntityApiGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace My.Namespace {
    public partial class AppEntity {

        public Game2.PositionComponent game2Position { get { return (Game2.PositionComponent)GetComponent(My.Namespace.AppComponentsLookup.Game2Position); } }
        public bool hasGame2Position { get { return HasComponent(My.Namespace.AppComponentsLookup.Game2Position); } }

        public void AddGame2Position(UnityEngine.Vector3Int newValue) {
            var index = My.Namespace.AppComponentsLookup.Game2Position;
            var component = (Game2.PositionComponent)CreateComponent(index, typeof(Game2.PositionComponent));
            component.Value = newValue;
            AddComponent(index, component);
        }

        public void ReplaceGame2Position(UnityEngine.Vector3Int newValue) {
            var index = My.Namespace.AppComponentsLookup.Game2Position;
            var component = (Game2.PositionComponent)CreateComponent(index, typeof(Game2.PositionComponent));
            component.Value = newValue;
            ReplaceComponent(index, component);
        }

        public void RemoveGame2Position() {
            RemoveComponent(My.Namespace.AppComponentsLookup.Game2Position);
        }
    }
}

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Entitas.CodeGeneration.Plugins.ComponentEntityApiInterfaceGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace My.Namespace {
    public partial class AppEntity : Game2.IGame2PositionEntity { }
}

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Entitas.CodeGeneration.Plugins.ComponentMatcherApiGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace My.Namespace {
    public sealed partial class AppMatcher {

        static Entitas.IMatcher<AppEntity> _matcherGame2Position;

        public static Entitas.IMatcher<AppEntity> Game2Position {
            get {
                if (_matcherGame2Position == null) {
                    var matcher = (Entitas.Matcher<AppEntity>)Entitas.Matcher<AppEntity>.AllOf(My.Namespace.AppComponentsLookup.Game2Position);
                    matcher.componentNames = My.Namespace.AppComponentsLookup.componentNames;
                    _matcherGame2Position = matcher;
                }

                return _matcherGame2Position;
            }
        }
    }
}

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Entitas.CodeGeneration.Plugins.EventListenerComponentGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace My.Namespace {
    [Entitas.CodeGeneration.Attributes.DontGenerate(false)]
    public sealed class Game2PositionListenerComponent : Entitas.IComponent {
        public System.Collections.Generic.List<IGame2PositionListener> value;
    }
}

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Entitas.CodeGeneration.Plugins.EventListenertInterfaceGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace My.Namespace {
    public interface IGame2PositionListener {
        void OnGame2Position(AppEntity entity, UnityEngine.Vector3Int value);
    }
}

//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by Entitas.CodeGeneration.Plugins.EventSystemGenerator.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
namespace My.Namespace {
    public sealed class Game2PositionEventSystem : Entitas.ReactiveSystem<My.Namespace.AppEntity> {

        readonly System.Collections.Generic.List<IGame2PositionListener> _listenerBuffer;

        public Game2PositionEventSystem(Contexts contexts) : base(contexts.myNamespaceApp) {
            _listenerBuffer = new System.Collections.Generic.List<IGame2PositionListener>();
        }

        protected override Entitas.ICollector<My.Namespace.AppEntity> GetTrigger(Entitas.IContext<My.Namespace.AppEntity> context) {
            return Entitas.CollectorContextExtension.CreateCollector(
                context, Entitas.TriggerOnEventMatcherExtension.Added(My.Namespace.AppMatcher.Game2Position)
            );
        }

        protected override bool Filter(My.Namespace.AppEntity entity) {
            return entity.hasGame2Position && entity.hasGame2PositionListener;
        }

        protected override void Execute(System.Collections.Generic.List<My.Namespace.AppEntity> entities) {
            foreach (var e in entities) {
                var component = e.game2Position;
                _listenerBuffer.Clear();
                _listenerBuffer.AddRange(e.game2PositionListener.value);
                foreach (var listener in _listenerBuffer) {
                    listener.OnGame2Position(e, component.Value);
                }
            }
        }
    }
}
